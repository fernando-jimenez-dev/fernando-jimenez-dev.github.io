---
import background from "../../assets/background.svg";
import HeroSection from "./components/HeroSection.astro";
import AboutSection from "./components/AboutSection.astro";
---

<div id="container" style={`--bg-image: url('${background.src}')`}>
	<main class="index-page">
		<div class="section-rail section-rail--hero">
			<HeroSection />
		</div>
		<div class="section-rail section-rail--about">
			<AboutSection />
		</div>
	</main>
</div>

<style>
	#container::before {
		content: "";
		position: fixed;
		inset: -10vh -10vw;
		width: 120vw;
		height: 120vh;
		background-image: var(--bg-image);
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		opacity: 0.32;
		pointer-events: none;
		z-index: 0;
	}

	#container {
		position: relative;
		min-height: 100vh;
		box-sizing: border-box;
		padding: 1.75rem 1.25rem;
		isolation: isolate;
	}

	.index-page {
		--section-frame-max: 68rem;
		--hero-max: 48rem;
		--about-max: 44rem;
		--section-gap: 3.5rem;
		position: relative;
		z-index: 1;
		min-height: calc(100vh - 3.5rem);
		display: flex;
		flex-direction: column;
		justify-content: flex-start;
		align-items: center;
		gap: var(--section-gap);
		padding: clamp(2rem, 6vw, 5rem) 0;
	}

	.section-rail {
		width: min(92vw, var(--section-frame-max));
		margin: 0 auto;
	}

	.section-rail--hero {
		--section-max: var(--hero-max);
	}

	.section-rail--about {
		--section-max: var(--about-max);
	}

	@media (min-width: 1024px) {
		.index-page {
			--about-max: 62rem;
		}
	}

	@media (max-width: 768px) {
		.index-page {
			align-items: flex-start;
			--section-gap: 2.5rem;
			padding: 1.5rem 0 3rem;
		}
	}
</style>
